<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tugas AI</title>
</head>
<body>
    <div class="wraper">
        <h1>Gejala:</h1>
        <div class="listGejala">
            <input type="checkbox" data-value="1">
            <label>demam</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="2">
            <label>sakit kepala</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="3">
            <label>nyeri saat bicara atau menelan</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="4">
            <label>batuk</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="5">
            <label>hidung tersumbat</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="6">
            <label>nyeri telinga</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="7">
            <label>nyeri tenggorokan</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="8">
            <label>hidung meler</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="9">
            <label>letih dan lesu</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="10">
            <label>mual dan muntah</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="11">
            <label>selaput lendir merah dan bengkak</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="12">
            <label>ada benjolan di leher</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="13">
            <label>nyeri leher</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="14">
            <label>pembengkakan kelenjar getah bening</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="15">
            <label>pendarahan hidung</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="16">
            <label>suara serak</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="17">
            <label>bola mata bergerak tanpa sadar</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="18">
            <label>dahi sakit</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="19">
            <label>leher bengkak</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="20">
            <label>tuli</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="21">
            <label>ada yang tumbuh di mulut</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="22">
            <label>air liur menetes</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="23">
            <label>berat badan turun</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="24">
            <label>bunyi nafas abnormal</label> 
        </div>
        <div class="listGejala">
            <input type="checkbox" data-value="25">
            <label>infeksi sinus</label> 
        </div>
    </div>
    <div class="hasil">
        <h1>Hasil : <span id="hasil"></span></h1>
    </div>
</body>
<script src="penyakit.js" type="text/javascript"></script>
<script>
    const listPenyakit = [
        new Penyakit('CONTRACT ULCERS', [3, 16]),
        new Penyakit('ABAES PARAFARINGEAL', [3, 19]),
        new Penyakit('ABAES PERITONAILER', [1, 2, 7, 14, 16, 22]),
        new Penyakit('BAROTITIS MEDIA', [2, 6]),
        new Penyakit('DEVIASI SEPTUM', [1, 5, 6, 15, 25, 29]),
        new Penyakit('FARINGITIS', [1, 3, 7, 13, 14]),
        new Penyakit('KANKER LARING', [3, 4, 7, 13, 16, 23, 24]),
        new Penyakit('KANKER LEHER DAN KEPALA', [3, 12, 15, 21, 30, 31]),
        new Penyakit('KANKER LEHER METASTATIK', [12]),
        new Penyakit('KANKER NASOFARING', [5, 15]),
        new Penyakit('KANKER TONSIL', [7, 12]),
        new Penyakit('LARINGITIS', [1, 3, 14, 19, 37]),
        new Penyakit('NEURONITIS VESTIBULARIS', [10, 17]),
        new Penyakit('OSTEOSKLEROSIS', [20, 35]),
        new Penyakit('OTITIS MEDIA AKUT', [1, 6, 10, 32]),
        new Penyakit('MENIERE', [1, 6, 10, 32]),
        new Penyakit('TONSILITIS', [1, 2, 3, 4, 7, 10]),
        new Penyakit('TUMOR SYARAF PENDENGARAN', [2, 20, 38]),
        new Penyakit('VERTIGO POSTULAR', [17]),
        new Penyakit('SINUSITIS MAKSILARIS', [1, 2, 4, 5, 8, 9, 11, 28, 33]),
        new Penyakit('SINUSITIS FRONTALIS', [1, 2, 4, 5, 8, 9, 11, 18]),
        new Penyakit('SINUSITIS ETMOIDALIS', [1, 2, 4, 5, 8, 9, 11, 18, 26, 27]),
        new Penyakit('SINUSITIS SFENOIDALIS', [1, 2, 4, 5, 6, 8, 9, 11, 12]),
        new Penyakit('PERUT', [1, 2, 3, 4]),
    ]
    console.log(listPenyakit[0].gejala);
    const checkboxes = document.querySelectorAll("input")

    let listGejala = []

    checkboxes.forEach((checkbox) => {
        // Add a change event listener to each checkbox
        checkbox.addEventListener('change', function() {
            // This function will be called whenever the checkbox's checked state changes
            if(checkbox.checked == true){
                listGejala.push(+checkbox.getAttribute('data-value'))
                
            } else {
                listGejala = listGejala.filter(gejala => gejala !== +checkbox.getAttribute('data-value'))
            }
            listGejala.sort(function(a, b) {
                return a - b;
            });
            document.querySelector('#hasil').innerHTML = getPenyakit(listGejala)
            // Add your custom code here to handle the checkbox change
        });
    });

    function getPenyakit(gejala) {
        console.log(gejala);
        let penyakit = ''
        for (let index = 0; index < listPenyakit.length; index++) {
            console.log(JSON.stringify(listPenyakit[index].gejala) == JSON.stringify(gejala));
            if (JSON.stringify(listPenyakit[index].gejala) == JSON.stringify(gejala)) {
                // console.log('test');
                return listPenyakit[index].namaPenyakit
            }
            
        }

        return 'Penyakit tidak ditemukan'
    }

</script>
</html>